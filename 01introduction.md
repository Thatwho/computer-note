程序在计算机系统中就是一串bit序列，解读这串bit序列时需要根据上下文区分。

C语言程序由一段ASCII文本字符编译成计算机可以执行的二进制bit会经过四个阶段，五种格式。最开始是ASNII字符，这是这串bit序列，8个一组组成一个字节，每个字节代表一个文本字符。
经过预处理器的**预处理阶段**，会把引用的外部代码插入原程序中，预处理后的文件通常以`.i`结尾，这时依然作文本字符解读。
经过编译器的**编译阶段**，会把程序编程汇编语言程序，汇编语言以文本格式描述了低级机器指令，通常以`.s`结尾，这时依然是文本字符。
经过汇编器的**汇编阶段**，会生成二进制文件，通常以`.o`结尾。
经过链接器的**链接阶段**，会把引用的标准库中的函数的预编译好的二进制文件和汇编产生的二进制文件合并成可执行目标文件。

硬件包括总线、IO设备、主存和CPU。
总线：一组电子管道，在系统各部分间传递数据。总线中传递的数据是定长的，称为字。
IO：键盘、鼠标、显示器、磁盘驱动器（即磁盘）都属于IO设备，IO设备都需要一个控制器或设配器与总线相连。
主存是一组随即动态存取存储器/DRAM芯片。逻辑上是一个线性字节数组。每个字节都有唯一的地址索引。
CPU解释和执行主存中存放的指令。其核心是一个字节大小的寄存器，称为程序计数器/PC，指向主存中的指定地址。

当执行hello world程序时，shell程序把指令从IO设备：键盘读到CPU寄存器中，又从CPU寄存器写入主存中。当读到回车字符时，shell开始读取主存中的数据，按指令把磁盘上hello world程序数据直接读到主存中，这一步不需要经过CPU。加载到主存后，处理器开始把主存中main函数中的指令逐条复制到寄存器，在把寄存器中的数据复制到IO设备：显示器。

操作系统提供的抽象概念：文件、虚拟内存、进程。
文件是对IO设备的抽象；虚拟内存是对主存和IO设备的抽象；进程是对处理器、主存和IO设备的抽象。
上下文：进程运行所需要的所有状态信息。比如PC和寄存器文件的值，主存的内容。
文件就是字节序列。
虚拟内存基本思想是把进程的虚拟内存的数据存储在磁盘上，用主存作为磁盘的高速缓存。
Amdahl定律：假设某应用原运行时间为$$T_{old}$$，其中某部分运行时间与原总体运行时间比例为$$\alpha$$，而此部分性能提升比例为k。则这个部分的初始运行时间为$$T_{old} \times\alpha$$，这个应用优化后的运行时间为$$T_{new} = (1 - \alpha) \times T_{old} + (\alpha T_{old}) / k  $$。因此，优化后加速比为$$S = \frac{1}{(1 - \alpha) + \alpha / k}$$。
